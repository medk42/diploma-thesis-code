import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
from matplotlib import cm

# Define your point sets with names
point_sets = [
    {
            'name': '92',
            'points': np.array([
                    [-0.0065, 0.0065, 0],
                    [0.0065, 0.0065, 0],
                    [0.0065, -0.0065, 0],
                    [-0.0065, -0.0065, 0]
            ])
    },
    {
            'name': '93',
            'points': np.array([
                    [-0.0112844, 0.00705242, -0.0160643],
                    [-0.0109948, 0.00687594, -0.00306871],
                    [-0.010821, -0.00612165, -0.00324909],
                    [-0.0111105, -0.00594517, -0.0162447]
            ])
    },
    {
            'name': '94',
            'points': np.array([
                    [0.00496195, 0.00786015, -0.0212669],
                    [-0.00803012, 0.00778436, -0.0208192],
                    [-0.00795338, -0.00521538, -0.0207928],
                    [0.00503869, -0.0051396, -0.0212404]
            ])
    },
    {
            'name': '95',
            'points': np.array([
                    [0.00985426, 0.00685967, -0.00250189],
                    [0.0100917, 0.00697104, -0.0154992],
                    [0.00996841, -0.00602788, -0.0156129],
                    [0.00973095, -0.00613925, -0.00261553]
            ])
    },
    {
            'name': '96',
            'points': np.array([
                    [0.00299662, 0.0366752, 0.00268532],
                    [0.0122883, 0.0368775, -0.00640442],
                    [0.0124834, 0.0238793, -0.00649424],
                    [0.00319173, 0.023677, 0.00259549]
            ])
    },
    {
            'name': '97',
            'points': np.array([
                    [-0.0140686, 0.0367766, -0.00588564],
                    [-0.00462494, 0.0368371, 0.00304825],
                    [-0.00447748, 0.0238381, 0.00298043],
                    [-0.0139211, 0.0237776, -0.00595346]
            ])
    },
    {
            'name': '98',
            'points': np.array([
                    [-0.0061885, 0.0376068, -0.0221125],
                    [-0.0148656, 0.0375717, -0.0124323],
                    [-0.0147729, 0.0245721, -0.0123963],
                    [-0.0060958, 0.0246072, -0.0220766]
            ])
    },
    {
            'name': '99',
            'points': np.array([
                    [0.00872746, 0.0373373, -0.0136129],
                    [-0.00102184, 0.0374891, -0.0222111],
                    [-0.000997234, 0.0244916, -0.0224684],
                    [0.00875207, 0.0243399, -0.0138702]
            ])
    },




    # {
    #         'name': '1099',
    #         'points': np.array([
    #                 [-0.133024, 0.0310753, 0.0852578],
    #                 [-0.13248, 0.0437515, 0.0880892],
    #                 [-0.138732, 0.046491, 0.0770254],
    #                 [-0.139276, 0.0338148, 0.074194]
    #         ])
    # },
    # {
    #         'name': '1100',
    #         'points': np.array([
    #                 [-0.156732, 0.0396307, -0.0423525],
    #                 [-0.157958, 0.052441, -0.0405101],
    #                 [-0.154506, 0.0545482, -0.0528649],
    #                 [-0.15328, 0.0417379, -0.0547073]
    #         ])
    # },
    # {
    #         'name': '1101',
    #         'points': np.array([
    #                 [-0.102328, 0.0445039, -0.133159],
    #                 [-0.104403, 0.057336, -0.132971],
    #                 [-0.094083, 0.0591167, -0.140674],
    #                 [-0.0920086, 0.0462846, -0.140862]
    #         ])
    # },
    # {
    #         'name': '1102',
    #         'points': np.array([
    #                 [-0.117724, 0.0528289, -0.102089],
    #                 [-0.1186, 0.0657993, -0.102063],
    #                 [-0.110627, 0.066358, -0.112316],
    #                 [-0.109751, 0.0533876, -0.112341]
    #         ])
    # },
    # {
    #         'name': '1103',
    #         'points': np.array([
    #                 [-0.0755158, 0.0558955, -0.13538],
    #                 [-0.0763219, 0.0688687, -0.135594],
    #                 [-0.0650945, 0.0694585, -0.142121],
    #                 [-0.0642885, 0.0564853, -0.141906]
    #         ])
    # },
    # {
    #         'name': '1104',
    #         'points': np.array([
    #                 [0.0189824, 0.0615573, -0.150258],
    #                 [0.019134, 0.07455, -0.150666],
    #                 [0.0321027, 0.0744267, -0.149773],
    #                 [0.0319511, 0.061434, -0.149364]
    #         ])
    # },
    # {
    #         'name': '1105',
    #         'points': np.array([
    #                 [0.0630198, 0.053496, -0.136606],
    #                 [0.0633714, 0.0664668, -0.135809],
    #                 [0.075004, 0.0657973, -0.130044],
    #                 [0.0746525, 0.0528265, -0.130841]
    #         ])
    # },
    # {
    #         'name': '1106',
    #         'points': np.array([
    #                 [0.119422, 0.0604479, -0.0710834],
    #                 [0.118961, 0.0733627, -0.0696713],
    #                 [0.125857, 0.072409, -0.0586928],
    #                 [0.126319, 0.0594942, -0.0601049]
    #         ])
    # },
    # {
    #         'name': '1107',
    #         'points': np.array([
    #                 [0.133887, 0.0556231, -0.0388777],
    #                 [0.132876, 0.0685737, -0.0383686],
    #                 [0.136137, 0.0683335, -0.0257864],
    #                 [0.137147, 0.0553828, -0.0262955]
    #         ])
    # },
    # {
    #         'name': '1108',
    #         'points': np.array([
    #                 [0.134767, 0.0521252, 0.0295169],
    #                 [0.133915, 0.0650971, 0.0294804],
    #                 [0.130917, 0.0649357, 0.042129],
    #                 [0.131769, 0.0519637, 0.0421655]
    #         ])
    # },
    # {
    #         'name': '1109',
    #         'points': np.array([
    #                 [0.0539517, 0.048653, 0.124853],
    #                 [0.0532985, 0.0616351, 0.124657],
    #                 [0.0415705, 0.0611294, 0.130242],
    #                 [0.0422237, 0.0481473, 0.130438]
    #         ])
    # },
    # {
    #         'name': '1110',
    #         'points': np.array([
    #                 [-0.0781978, 0.0533555, 0.114024],
    #                 [-0.0787339, 0.0663184, 0.113201],
    #                 [-0.0903746, 0.0654735, 0.107476],
    #                 [-0.0898385, 0.0525106, 0.108299]
    #         ])
    # },
    # {
    #         'name': '1111',
    #         'points': np.array([
    #                 [-0.110987, 0.0491387, 0.0797313],
    #                 [-0.110727, 0.0620655, 0.0783785],
    #                 [-0.120228, 0.0613317, 0.0695361],
    #                 [-0.120488, 0.0484049, 0.0708888]
    #         ])
    # },
    # {
    #         'name': '1112',
    #         'points': np.array([
    #                 [-0.125449, 0.0477011, -0.072615],
    #                 [-0.124423, 0.0606189, -0.0736525],
    #                 [-0.120205, 0.0593019, -0.0858785],
    #                 [-0.121232, 0.0463841, -0.084841]
    #         ])
    # },
    # {
    #         'name': '1113',
    #         'points': np.array([
    #                 [-0.0073551, 0.0519911, -0.14978],
    #                 [-0.00531585, 0.06483, -0.149709],
    #                 [0.00713261, 0.0628705, -0.152902],
    #                 [0.00509336, 0.0500317, -0.152973]
    #         ])
    # },
    # {
    #         'name': '1114',
    #         'points': np.array([
    #                 [0.0702633, 0.04687, -0.12775],
    #                 [0.0721109, 0.0596889, -0.126627],
    #                 [0.084186, 0.0575699, -0.122303],
    #                 [0.0823384, 0.0447509, -0.123425]
    #         ])
    # },
    # {
    #         'name': '1115',
    #         'points': np.array([
    #                 [0.118309, 0.035182, -0.0897963],
    #                 [0.119914, 0.0480207, -0.0885341],
    #                 [0.129168, 0.0459888, -0.0796331],
    #                 [0.127563, 0.0331501, -0.0808953]
    #         ])
    # },
    # {
    #         'name': '1116',
    #         'points': np.array([
    #                 [0.141381, 0.0310121, -0.0432203],
    #                 [0.143063, 0.0438378, -0.0419273],
    #                 [0.148741, 0.0419302, -0.0303897],
    #                 [0.14706, 0.0291044, -0.0316827]
    #         ])
    # },
    # {
    #         'name': '1117',
    #         'points': np.array([
    #                 [0.114669, 0.0427946, -0.102411],
    #                 [0.113984, 0.0557734, -0.1027],
    #                 [0.120617, 0.0563711, -0.0915348],
    #                 [0.121301, 0.0433923, -0.0912464]
    #         ])
    # },
    # {
    #         'name': '1118',
    #         'points': np.array([
    #                 [0.136259, 0.0466631, 0.0564029],
    #                 [0.135779, 0.0596506, 0.0560909],
    #                 [0.129237, 0.0596788, 0.0673249],
    #                 [0.129717, 0.0466914, 0.0676369]
    #         ])
    # },
    # {
    #         'name': '1119',
    #         'points': np.array([
    #                 [0.0361376, 0.0534292, 0.133575],
    #                 [0.035604, 0.0663982, 0.132853],
    #                 [0.0229253, 0.066035, 0.135703],
    #                 [0.0234589, 0.053066, 0.136424]
    #         ])
    # },
    # {
    #         'name': '1120',
    #         'points': np.array([
    #                 [-0.0911072, 0.0500663, 0.109151],
    #                 [-0.0914019, 0.0630396, 0.108371],
    #                 [-0.102174, 0.0623592, 0.101125],
    #                 [-0.101879, 0.0493859, 0.101905]
    #         ])
    # },
    # {
    #         'name': '1121',
    #         'points': np.array([
    #                 [-0.136723, 0.0590112, 0.0548273],
    #                 [-0.135952, 0.0719859, 0.0545755],
    #                 [-0.14201, 0.0721226, 0.0430741],
    #                 [-0.142781, 0.0591479, 0.0433259]
    #         ])
    # },
    # {
    #         'name': '1122',
    #         'points': np.array([
    #                 [-0.114294, 0.0531535, -0.124227],
    #                 [-0.112388, 0.0660067, -0.12463],
    #                 [-0.102965, 0.0643333, -0.133428],
    #                 [-0.104871, 0.0514801, -0.133024]
    #         ])
    # },
    # {
    #         'name': '1123',
    #         'points': np.array([
    #                 [-0.00885439, 0.0652023, -0.157547],
    #                 [-0.00726319, 0.0780548, -0.156415],
    #                 [0.00561124, 0.076548, -0.157404],
    #                 [0.00402004, 0.0636955, -0.158536]
    #         ])
    # },
    # {
    #         'name': '1124',
    #         'points': np.array([
    #                 [0.113688, 0.061685, -0.101857],
    #                 [0.114162, 0.0746124, -0.10057],
    #                 [0.122626, 0.0733282, -0.090787],
    #                 [0.122152, 0.0604007, -0.0920741]
    #         ])
    # },
    # {
    #         'name': '1125',
    #         'points': np.array([
    #                 [0.145722, 0.0588265, -0.032291],
    #                 [0.145816, 0.0718191, -0.0318607],
    #                 [0.148819, 0.0713786, -0.01922],
    #                 [0.148724, 0.058386, -0.0196502]
    #         ])
    # }
]

point_sets = [
        {
                'name': '92',
                'points': np.array([
                        [-0.0065, 0.0065, 0],
                        [0.0065, 0.0065, 0],
                        [0.0065, -0.0065, 0],
                        [-0.0065, -0.0065, 0]
                ])
        },
        {
                'name': '93',
                'points': np.array([
                        [-0.0105849, 0.0067598, -0.0164824],
                        [-0.0102332, 0.00660165, -0.00348812],
                        [-0.0100497, -0.00639603, -0.00365127],
                        [-0.0104013, -0.00623788, -0.0166456]
                ])
        },
        {
                'name': '94',
                'points': np.array([
                        [0.00615587, 0.00716843, -0.0210452],
                        [-0.00683244, 0.00717432, -0.0204941],
                        [-0.0068308, -0.00582448, -0.0203168],
                        [0.00615751, -0.00583036, -0.0208679]
                ])
        },
        {
                'name': '95',
                'points': np.array([
                        [0.0100856, 0.0067479, -0.0040759],
                        [0.00928665, 0.00690724, -0.0170503],
                        [0.0091802, -0.00609142, -0.0172034],
                        [0.00997918, -0.00625077, -0.00422898]
                ])
        },
        {
                'name': '96',
                'points': np.array([
                        [0.00261826, 0.0362102, 0.00139191],
                        [0.0116251, 0.0364196, -0.00797999],
                        [0.0118068, 0.0234214, -0.00809582],
                        [0.00279989, 0.023212, 0.00127608]
                ])
        },
        {
                'name': '97',
                'points': np.array([
                        [-0.0120824, 0.036362, -0.00713938],
                        [-0.00266262, 0.0364485, 0.00181944],
                        [-0.00248939, 0.0234498, 0.00176282],
                        [-0.0119092, 0.0233633, -0.00719601]
                ])
        },
        {
                'name': '98',
                'points': np.array([
                        [-0.00375303, 0.0370151, -0.0223732],
                        [-0.0125512, 0.0369834, -0.0128029],
                        [-0.012455, 0.0239839, -0.0127575],
                        [-0.00365677, 0.0240156, -0.0223278]
                ])
        },
        {
                'name': '99',
                'points': np.array([
                        [0.0110313, 0.036787, -0.0135319],
                        [0.00147959, 0.0369252, -0.0223492],
                        [0.001534, 0.0239279, -0.0226118],
                        [0.0110857, 0.0237897, -0.0137945]
                ])
        }
]

# Create figure
fig = plt.figure(figsize=(10, 8))
ax = fig.add_subplot(111, projection='3d')

# Plot each point set
n_indexes = len(point_sets)
cmap = cm.get_cmap('jet')
colors = [cmap(i / (n_indexes - 1)) for i in range(n_indexes)]

mins = np.ones(3) * 100000
maxs = np.ones(3) * -100000

for i, point_set in enumerate(point_sets):
    # Plot points
    ax.plot(point_set['points'][:, 0], point_set['points'][:, 1], point_set['points'][:, 2],
                color=colors[i])
    ax.scatter(point_set['points'][:, 0], point_set['points'][:, 1], point_set['points'][:, 2],
                color=colors[i], label=point_set['name'])
    ax.scatter(point_set['points'][0, 0], point_set['points'][0, 1], point_set['points'][0, 2],
            color=colors[i], s=60, marker='X')
    
    mins = np.min(np.stack((np.min(point_set['points'], axis=0), mins)), axis=0)
    maxs = np.max(np.stack((np.max(point_set['points'], axis=0), maxs)), axis=0)
    
    # Add text labels for each point
    for j, point in enumerate(point_set['points']):
        ax.text(point[0], point[1], point[2], f"{point_set['name']}\nPoint {j+1}",
                size=8, zorder=1, color=colors[i])

print(mins)
print(maxs)

mids = (maxs + mins) / 2
ranges = maxs - mins
max_range = np.max(ranges)
mins = mids - max_range
maxs = mids + max_range

# Set axis limits and labels
ax.set_xlim(mins[0], maxs[0])
ax.set_ylim(mins[1], maxs[1])
ax.set_zlim(mins[2], maxs[2])
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')
ax.set_title('3D Point Sets')
ax.set_aspect('equal')
ax.legend()

# Show the plot
plt.show()